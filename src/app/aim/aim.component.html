<!-- Zona de juego html con etiquetas , Atributos ,atributos especiales ,clases  ,eventos ,funciones-->
<div class="controls" [ngStyle]="{
  borderRadius: controlsBorderRadius + 'px',
  boxShadow: '0 0 ' + controlsShadowSize + 'px rgba(0,0,0,0.7), inset 0 0 ' + controlsShadowSize + 'px rgba(255,255,255,0.5)'
}">
  <h1>ENTRENADOR DE PUNTERIA PARA NO SER MANCO </h1>
</div>

<!-- Contenedor del juego -->
<div class="game-container" (click)="missTarget()" [ngStyle]="{ width: gameWidth + 'px' }">
  <div class="target" *ngIf="showTarget" [ngStyle]="{
      left: targetX + '%',
      top: targetY + '%',
      background: targetColor,
      borderRadius: borderRadius + 'px',
      boxShadow: shadowSize + 'px ' + shadowSize + 'px ' + (shadowSize * 2) + 'px rgba(0, 0, 0, 0.5)',
      
    }" (click)="hitTarget(); $event.stopPropagation()">
  </div>

  <!-- Objetivo -->
  <div class="target" *ngIf="showTarget" [ngStyle]="{
            left: targetX + '%',
            top: targetY + '%',
            background: targetColor,
            borderRadius: borderRadius + 'px',
            boxShadow: shadowSize + 'px ' + shadowSize + 'px ' + (shadowSize * 2) + 'px rgba(0, 0, 0, 0.5)',
            
         }" (click)="hitTarget(); $event.stopPropagation()">
  </div>

  <!-- Explosiones -->
  <img *ngFor="let explosion of explosions" [src]="explosion.gif" class="explosion" [ngStyle]="{
          left: explosion.x + '%',
          top: explosion.y + '%'
       }">

</div>
<!-- Panel de control -->
<div class="controls" [ngStyle]="{
  borderRadius: controlsBorderRadius + 'px',
  boxShadow: '0 0 ' + controlsShadowSize + 'px rgba(0,0,0,0.7), inset 0 0 ' + controlsShadowSize + 'px rgba(255,255,255,0.5)'
}">
  <h1>CONTROLADORES</h1>

  <!-- Botones principales -->
  <button class="start-btn" (click)="startGame()">Iniciar Juego</button>
  <button class="start-btn" (click)="toggleResults()">Mejores Resultados</button>

  <!-- Configuración de tiempo -->
  <div class="control">
    <label for="timeLimit">Tiempo por objetivo:</label>
    <select id="timeLimit" [(ngModel)]="targetTimeLimit">
      <option [value]="1">1 segundo</option>
      <option [value]="2">2 segundos</option>
      <option [value]="3">3 segundos</option>
    </select>
  </div>

  <!-- Configuración visual de la bolita -->
  <div class="panel-control">
    <div class="control">
      <label>Color</label>
      <input type="color" [(ngModel)]="targetColor">
    </div>

    <!-- Control para bordes redondeados del panel -->
    <div class="control">
      <label>Bordes redondeados del panel</label>
      <input type="range" min="0" max="50" [(ngModel)]="controlsBorderRadius">
    </div>

    <!-- Control para sombra del panel -->
    <div class="control">
      <label>Sombra del panel</label>
      <input type="range" min="0" max="50" [(ngModel)]="controlsShadowSize">
    </div>
  </div>

  <div class="control">
    <label>Ancho del área de juego</label>
    <input type="range" min="300" max="1000" [(ngModel)]="gameWidth">
    <span>{{ gameWidth }} px</span>
  </div>

  <!-- Tabla de resultados -->
  <div *ngIf="showResults">
    <h2>MEJORES RESULTADOS</h2>
    <table border="1" style="width: 100%; text-align: center;">
      <thead>
        <tr>
          <th>#</th>
          <th>Puntaje</th>
          <th>Exactitud (%)</th>
          <th>Velocidad Final (s)</th>
          <th>Tiempo (s)</th>
          <th>Fecha</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of resultsSorted; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ result.score }}</td>
          <td>{{ result.accuracy }}</td>
          <td>{{ result.speed }}</td>
          <td>{{ result.time }}</td>
          <td>{{ result.date }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>