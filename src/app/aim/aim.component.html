<!-- Zona de juego html con etiquetas , Atributos ,atributos ,especiales ,clases  ,eventos ,funciones-->
<div class="controls">
  <h1>Aim Trainer</h1>

</div>
<!-- Contenedor del juego -->
<div class="game-container" (click)="missTarget()" [ngStyle]="{ width: gameWidth + 'px' }">
  <div class="target" *ngIf="showTarget" [ngStyle]="{
      left: targetX + '%',
      top: targetY + '%',
      background: targetColor,
      borderRadius: borderRadius + 'px',
      boxShadow: shadowSize + 'px ' + shadowSize + 'px ' + (shadowSize * 2) + 'px rgba(0, 0, 0, 0.5)',
      transform: 'rotate(' + rotation + 'deg)'
    }" (click)="hitTarget(); $event.stopPropagation()">
  </div>
  <!-- Objetivo -->
  <div class="target" *ngIf="showTarget" [ngStyle]="{
            left: targetX + '%',
            top: targetY + '%',
            background: targetColor,
            borderRadius: borderRadius + 'px',
            boxShadow: shadowSize + 'px ' + shadowSize + 'px ' + (shadowSize * 2) + 'px rgba(0, 0, 0, 0.5)',
            transform: 'rotate(' + rotation + 'deg)'
         }" (click)="hitTarget(); $event.stopPropagation()">
  </div>

  <!-- Explosiones -->
  <img *ngFor="let explosion of explosions" [src]="explosion.gif" class="explosion" [ngStyle]="{
          left: explosion.x + '%',
          top: explosion.y + '%'
       }">

</div>
<!-- Panel de control -->
<div class="controls">
  <h1>CONTROLADORES</h1>

  <!-- Botones principales -->
  <button class="start-btn" (click)="startGame()">Iniciar Juego</button>
  <button class="start-btn" (click)="toggleResults()">Mejores Resultados</button>

  <!-- Configuración de tiempo -->
  <div class="control">
    <label for="timeLimit">Tiempo por objetivo:</label>
    <select id="timeLimit" [(ngModel)]="targetTimeLimit">
      <option [value]="1">1 segundo</option>
      <option [value]="2">2 segundos</option>
      <option [value]="3">3 segundos</option>
    </select>

  </div>

  <!-- Configuración visual de la bolita -->
  <div class="panel-control">
    <div class="control">
      <label>Color</label>
      <input type="color" [(ngModel)]="targetColor">
    </div>
    <!-- Controles deslizantes para personalización -->
    <div class="control">
      <label>Bordes redondeados</label>
      <input type="range" min="0" max="75" [(ngModel)]="borderRadius">
    </div>
    <!-- Controles deslizantes para personalización -->
    <div class="control">
      <label>Tamaño de sombra</label>
      <input type="range" min="0" max="50" [(ngModel)]="shadowSize">
    </div>
    <!-- Controles deslizantes para personalización -->
    <div class="control">
      <label>Rotación (grados)</label>
      <input type="range" min="0" max="360" [(ngModel)]="rotation">
    </div>
  </div>
  <div class="control">
    <label>Ancho del área de juego</label>
    <input type="range" min="300" max="1000" [(ngModel)]="gameWidth">
    <span>{{ gameWidth }} px</span>
  </div>


  <!-- Tabla de resultados -->
  <div *ngIf="showResults">
    <h2>MEJORES RESULTADOS</h2>
    <table border="1" style="width: 100%; text-align: center;">
      <thead>
        <tr>
          <th>#</th>
          <th>Puntaje</th>
          <th>Exactitud (%)</th>
          <th>Velocidad Final (s)</th>
          <th>Tiempo (s)</th>
          <th>Fecha</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of resultsSorted; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ result.score }}</td>
          <td>{{ result.accuracy }}</td>
          <td>{{ result.speed }}</td>
          <td>{{ result.time }}</td>
          <td>{{ result.date }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>